<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.1 (20250719.2154)
 -->
<!-- Title: prophet_flow Pages: 1 -->
<svg width="916pt" height="112pt"
 viewBox="0.00 0.00 916.00 112.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 108)">
<title>prophet_flow</title>
<polygon fill="#fafafa" stroke="none" points="-4,4 -4,-108 911.98,-108 911.98,4 -4,4"/>
<!-- load_data -->
<g id="node1" class="node">
<title>load_data</title>
<path fill="#ffd54f" stroke="black" d="M142.78,-82.8C142.78,-82.8 12,-82.8 12,-82.8 6,-82.8 0,-76.8 0,-70.8 0,-70.8 0,-47.2 0,-47.2 0,-41.2 6,-35.2 12,-35.2 12,-35.2 142.78,-35.2 142.78,-35.2 148.78,-35.2 154.78,-41.2 154.78,-47.2 154.78,-47.2 154.78,-70.8 154.78,-70.8 154.78,-76.8 148.78,-82.8 142.78,-82.8"/>
<text xml:space="preserve" text-anchor="middle" x="77.39" y="-68.9" font-family="Arial" font-size="11.00">Загрузка данных</text>
<text xml:space="preserve" text-anchor="middle" x="77.39" y="-55.7" font-family="Arial" font-size="11.00">usd_preprocessed.csv</text>
<text xml:space="preserve" text-anchor="middle" x="77.39" y="-42.5" font-family="Arial" font-size="11.00">→ rename(date→ds, rate→y)</text>
</g>
<!-- fit_model -->
<g id="node2" class="node">
<title>fit_model</title>
<path fill="#ffca28" stroke="black" d="M298.71,-82.8C298.71,-82.8 202.78,-82.8 202.78,-82.8 196.78,-82.8 190.78,-76.8 190.78,-70.8 190.78,-70.8 190.78,-47.2 190.78,-47.2 190.78,-41.2 196.78,-35.2 202.78,-35.2 202.78,-35.2 298.71,-35.2 298.71,-35.2 304.71,-35.2 310.71,-41.2 310.71,-47.2 310.71,-47.2 310.71,-70.8 310.71,-70.8 310.71,-76.8 304.71,-82.8 298.71,-82.8"/>
<text xml:space="preserve" text-anchor="middle" x="250.75" y="-68.9" font-family="Arial" font-size="11.00">Prophet().fit(df)</text>
<text xml:space="preserve" text-anchor="middle" x="250.75" y="-55.7" font-family="Arial" font-size="11.00">✔ yearly seasonality</text>
<text xml:space="preserve" text-anchor="middle" x="250.75" y="-42.5" font-family="Arial" font-size="11.00">✔ weekly seasonality</text>
</g>
<!-- load_data&#45;&gt;fit_model -->
<g id="edge1" class="edge">
<title>load_data&#45;&gt;fit_model</title>
<path fill="none" stroke="#f9a825" stroke-width="2" d="M155.05,-59C162.55,-59 170.14,-59 177.59,-59"/>
<polygon fill="#f9a825" stroke="#f9a825" stroke-width="2" points="177.35,-62.5 187.35,-59 177.35,-55.5 177.35,-62.5"/>
</g>
<!-- test_metrics -->
<g id="node3" class="node">
<title>test_metrics</title>
<path fill="#ffc107" stroke="black" d="M473.29,-104C473.29,-104 383.49,-104 383.49,-104 377.49,-104 371.49,-98 371.49,-92 371.49,-92 371.49,-80 371.49,-80 371.49,-74 377.49,-68 383.49,-68 383.49,-68 473.29,-68 473.29,-68 479.29,-68 485.29,-74 485.29,-80 485.29,-80 485.29,-92 485.29,-92 485.29,-98 479.29,-104 473.29,-104"/>
<text xml:space="preserve" text-anchor="middle" x="428.39" y="-89.3" font-family="Arial" font-size="11.00">MAE/RMSE по</text>
<text xml:space="preserve" text-anchor="middle" x="428.39" y="-76.1" font-family="Arial" font-size="11.00">последним 30 дням</text>
</g>
<!-- fit_model&#45;&gt;test_metrics -->
<g id="edge2" class="edge">
<title>fit_model&#45;&gt;test_metrics</title>
<path fill="none" stroke="#f9a825" stroke-width="2" d="M311.21,-68.14C326.37,-70.47 342.8,-73 358.39,-75.39"/>
<polygon fill="#f9a825" stroke="#f9a825" stroke-width="2" points="357.84,-78.85 368.26,-76.91 358.9,-71.93 357.84,-78.85"/>
</g>
<!-- future -->
<g id="node4" class="node">
<title>future</title>
<path fill="#ffb300" stroke="black" d="M498.06,-50C498.06,-50 358.71,-50 358.71,-50 352.71,-50 346.71,-44 346.71,-38 346.71,-38 346.71,-26 346.71,-26 346.71,-20 352.71,-14 358.71,-14 358.71,-14 498.06,-14 498.06,-14 504.06,-14 510.06,-20 510.06,-26 510.06,-26 510.06,-38 510.06,-38 510.06,-44 504.06,-50 498.06,-50"/>
<text xml:space="preserve" text-anchor="middle" x="428.39" y="-35.3" font-family="Arial" font-size="11.00">make_future_dataframe(days)</text>
<text xml:space="preserve" text-anchor="middle" x="428.39" y="-22.1" font-family="Arial" font-size="11.00">model.predict()</text>
</g>
<!-- fit_model&#45;&gt;future -->
<g id="edge3" class="edge">
<title>fit_model&#45;&gt;future</title>
<path fill="none" stroke="#f9a825" stroke-width="2" d="M311.21,-49.86C318.48,-48.74 326.04,-47.58 333.66,-46.41"/>
<polygon fill="#f9a825" stroke="#f9a825" stroke-width="2" points="334.15,-49.87 343.5,-44.9 333.08,-42.96 334.15,-49.87"/>
</g>
<!-- save_metrics -->
<g id="node7" class="node">
<title>save_metrics</title>
<path fill="#ffe082" stroke="black" d="M662.24,-104C662.24,-104 568.14,-104 568.14,-104 562.14,-104 556.14,-98 556.14,-92 556.14,-92 556.14,-80 556.14,-80 556.14,-74 562.14,-68 568.14,-68 568.14,-68 662.24,-68 662.24,-68 668.24,-68 674.24,-74 674.24,-80 674.24,-80 674.24,-92 674.24,-92 674.24,-98 668.24,-104 662.24,-104"/>
<text xml:space="preserve" text-anchor="middle" x="615.19" y="-89.3" font-family="Arial" font-size="11.00">prophet_metrics.json</text>
<text xml:space="preserve" text-anchor="middle" x="615.19" y="-76.1" font-family="Arial" font-size="11.00">MAE / RMSE</text>
</g>
<!-- test_metrics&#45;&gt;save_metrics -->
<g id="edge6" class="edge">
<title>test_metrics&#45;&gt;save_metrics</title>
<path fill="none" stroke="#f9a825" stroke-width="2" d="M485.59,-86C503.62,-86 523.84,-86 542.81,-86"/>
<polygon fill="#f9a825" stroke="#f9a825" stroke-width="2" points="542.67,-89.5 552.67,-86 542.67,-82.5 542.67,-89.5"/>
</g>
<!-- filter_future -->
<g id="node5" class="node">
<title>filter_future</title>
<path fill="#ffa726" stroke="black" d="M672.31,-50C672.31,-50 558.06,-50 558.06,-50 552.06,-50 546.06,-44 546.06,-38 546.06,-38 546.06,-26 546.06,-26 546.06,-20 552.06,-14 558.06,-14 558.06,-14 672.31,-14 672.31,-14 678.31,-14 684.31,-20 684.31,-26 684.31,-26 684.31,-38 684.31,-38 684.31,-44 678.31,-50 672.31,-50"/>
<text xml:space="preserve" text-anchor="middle" x="615.19" y="-35.3" font-family="Arial" font-size="11.00">Оставляем только даты</text>
<text xml:space="preserve" text-anchor="middle" x="615.19" y="-22.1" font-family="Arial" font-size="11.00">&gt; last_date</text>
</g>
<!-- future&#45;&gt;filter_future -->
<g id="edge4" class="edge">
<title>future&#45;&gt;filter_future</title>
<path fill="none" stroke="#f9a825" stroke-width="2" d="M510.44,-32C517.87,-32 525.4,-32 532.82,-32"/>
<polygon fill="#f9a825" stroke="#f9a825" stroke-width="2" points="532.59,-35.5 542.59,-32 532.59,-28.5 532.59,-35.5"/>
</g>
<!-- save_results -->
<g id="node6" class="node">
<title>save_results</title>
<polygon fill="#fff3e0" stroke="black" points="901.98,-64 720.31,-64 720.31,0 907.98,0 907.98,-58 901.98,-64"/>
<polyline fill="none" stroke="black" points="901.98,-64 901.98,-58"/>
<polyline fill="none" stroke="black" points="907.98,-58 901.98,-58"/>
<polygon fill="none" stroke="black" points="729.31,-41 729.31,-59 898.98,-59 898.98,-41 729.31,-41"/>
<text xml:space="preserve" text-anchor="start" x="751.9" y="-48" font-family="Arial" font-weight="bold" font-size="10.00">usd_prophet_forecast.csv</text>
<polygon fill="none" stroke="black" points="729.31,-23 729.31,-41 786.46,-41 786.46,-23 729.31,-23"/>
<text xml:space="preserve" text-anchor="start" x="747.61" y="-30" font-family="Arial" font-weight="bold" font-size="10.00">date</text>
<polygon fill="none" stroke="black" points="786.46,-23 786.46,-41 831.37,-41 831.37,-23 786.46,-23"/>
<text xml:space="preserve" text-anchor="start" x="789.46" y="-30" font-family="Arial" font-weight="bold" font-size="10.00">forecast</text>
<polygon fill="none" stroke="black" points="831.37,-23 831.37,-41 865.18,-41 865.18,-23 831.37,-23"/>
<text xml:space="preserve" text-anchor="start" x="835.21" y="-30" font-family="Arial" font-weight="bold" font-size="10.00">lower</text>
<polygon fill="none" stroke="black" points="865.18,-23 865.18,-41 898.98,-41 898.98,-23 865.18,-23"/>
<text xml:space="preserve" text-anchor="start" x="868.19" y="-30" font-family="Arial" font-weight="bold" font-size="10.00">upper</text>
<polygon fill="none" stroke="black" points="729.31,-5 729.31,-23 786.46,-23 786.46,-5 729.31,-5"/>
<text xml:space="preserve" text-anchor="start" x="732.31" y="-11" font-family="Arial" font-size="10.00">2025&#45;12&#45;04</text>
<polygon fill="none" stroke="black" points="786.46,-5 786.46,-23 831.37,-23 831.37,-5 786.46,-5"/>
<text xml:space="preserve" text-anchor="start" x="795.01" y="-11" font-family="Arial" font-size="10.00">12590</text>
<polygon fill="none" stroke="black" points="831.37,-5 831.37,-23 865.18,-23 865.18,-5 831.37,-5"/>
<text xml:space="preserve" text-anchor="start" x="834.37" y="-11" font-family="Arial" font-size="10.00">12560</text>
<polygon fill="none" stroke="black" points="865.18,-5 865.18,-23 898.98,-23 898.98,-5 865.18,-5"/>
<text xml:space="preserve" text-anchor="start" x="868.18" y="-11" font-family="Arial" font-size="10.00">12620</text>
<polygon fill="none" stroke="black" points="728.31,-4 728.31,-60 899.98,-60 899.98,-4 728.31,-4"/>
</g>
<!-- filter_future&#45;&gt;save_results -->
<g id="edge5" class="edge">
<title>filter_future&#45;&gt;save_results</title>
<path fill="none" stroke="#f9a825" stroke-width="2" d="M684.8,-32C691.96,-32 699.36,-32 706.82,-32"/>
<polygon fill="#f9a825" stroke="#f9a825" stroke-width="2" points="706.81,-35.5 716.81,-32 706.81,-28.5 706.81,-35.5"/>
</g>
</g>
</svg>
